(this.webpackJsonpemployee_directory=this.webpackJsonpemployee_directory||[]).push([[0],{32:function(e,t,a){e.exports=a(59)},59:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(27),o=a.n(r),i=a(11),c=a(7),m=a(9),u=a(10),s=a(13),h=a(12),d=a(5),p=a(8),E=a(28),f=a.n(E).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).MONGODB_URI||"http://localhost:8080"}),b={addEmployee:function(e){var t=e.name,a=e.DOB,n=e.role,l=e.email;return f.post("./api/employee",{name:t,DOB:a,role:n,email:l})},getAllEmployees:function(){return f.get("./api/employee")},getEmployeesBySort:function(e){return f.get("./api/employee/"+e)},getEmployeesByName:function(e){return f.get("./api/employee/name/"+e)}},g=a(15),y=a.n(g),O=a(29);var S=function(e){return l.a.createElement(d.a,{onSubmit:e.handleFormSubmit},e.inUse&&l.a.createElement("div",null,l.a.createElement(d.a.Group,{controlId:"employeeForm"},l.a.createElement(d.a.Label,null,"Name"),l.a.createElement(d.a.Control,{type:"text",placeholder:"Name",onChange:e.handleNameChange}),l.a.createElement(d.a.Label,null,"Email"),l.a.createElement(d.a.Control,{type:"email",placeholder:"email",onChange:e.handleEmailChange}),l.a.createElement(d.a.Label,null,"Role"),l.a.createElement(d.a.Control,{type:"text",placeholder:"Role",onChange:e.handleRoleChange}),l.a.createElement(d.a.Label,null,"DOB"),l.a.createElement(d.a.Control,{type:"date",placeholder:"DOB",onChange:e.handleDOBChange})),l.a.createElement(p.a,{variant:"primary",type:"Submit"},"Submit")))},C=a(31);var v=function(e){return l.a.createElement(C.a,null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{id:"name",onClick:e.handleSort},"Name"),l.a.createElement("th",{id:"email",onClick:e.handleSort},"email"),l.a.createElement("th",{id:"role",onClick:e.handleSort},"Role"),l.a.createElement("th",{id:"DOB",onClick:e.handleSort},"DOB"))),l.a.createElement("tbody",null,e.employees.map((function(e){return l.a.createElement("tr",{key:e._id},l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.email),l.a.createElement("td",null,e.role),l.a.createElement("td",null,e.DOB))}))))},B=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).renderForm=function(){n.setState({usingForm:!0}),document.getElementById("add-btn").setAttribute("hidden",!0)},n.handleNameChange=function(e){n.setState(Object(c.a)({},n.state,{name:e.target.value}))},n.handleEmailChange=function(e){n.setState(Object(c.a)({},n.state,{email:e.target.value}))},n.handleRoleChange=function(e){n.setState(Object(c.a)({},n.state,{role:e.target.value}))},n.handleDOBChange=function(e){n.setState(Object(c.a)({},n.state,{DOB:new Date(e.target.value)}))},n.handleFormSubmit=function(){var e=Object(O.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.state.name&&n.state.role&&n.state.DOB&&n.state.email){e.next=6;break}return n.setState(Object(c.a)({},n.state,{usingForm:!1})),document.getElementById("add-btn").removeAttribute("hidden"),e.abrupt("return");case 6:b.addEmployee(n.state).then((function(){b.getAllEmployees().then((function(e){n.setState(Object(c.a)({},n.state,{usingForm:!1,name:"",role:"",DOB:"",email:"",result:e.data}))}))})),document.getElementById("add-btn").removeAttribute("hidden");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSort=function(e){b.getEmployeesBySort(e.target.id).then((function(e){n.setState(Object(c.a)({},n.state,{result:e.data}))}))},n.state={usingForm:!1,name:"",role:"",DOB:"",email:"",result:[],filter:e.filter},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.getAllEmployees().then((function(t){e.setState(Object(c.a)({},e.state,{result:t.data}))}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.filter!==e.filter&&(""!==this.props.filter?b.getEmployeesByName(this.props.filter).then((function(e){t.setState(Object(c.a)({},t.state,{filter:t.props.filter,result:e.data}))})):b.getAllEmployees().then((function(e){t.setState(Object(c.a)({},t.state,{filter:t.props.filter,result:e.data}))})))}},{key:"render",value:function(){return l.a.createElement(i.a,null,l.a.createElement(p.a,{id:"add-btn",onClick:this.renderForm},"Add new Employee"),l.a.createElement(S,{inUse:this.state.usingForm,handleNameChange:this.handleNameChange,handleRoleChange:this.handleRoleChange,handleEmailChange:this.handleEmailChange,handleDOBChange:this.handleDOBChange,handleFormSubmit:this.handleFormSubmit}),l.a.createElement(v,{employees:this.state.result,handleSort:this.handleSort}))}}]),a}(n.Component),D=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={search:"",filter:""},e.handleInputChange=function(t){e.setState({search:t.target.value})},e.handleFormSubmit=function(t){t.preventDefault(),e.setState(Object(c.a)({},e.state,{filter:e.state.search,search:""})),document.getElementsByClassName("searchBar")[0].value=""},e}return Object(u.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(d.a,{onSubmit:this.handleFormSubmit},l.a.createElement(d.a.Group,{controlId:"searchform"},l.a.createElement(d.a.Label,null,"Search By Name"),l.a.createElement(d.a.Control,{className:"searchBar",type:"text",placeholder:"Search",onChange:this.handleInputChange})),l.a.createElement(p.a,{variant:"primary",type:"Submit"},"Submit")),l.a.createElement(B,{filter:this.state.filter}))}}]),a}(n.Component);a(58);var j=function(){return l.a.createElement(i.a,{fluid:!0},l.a.createElement(D,null))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(j,null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.20a0352d.chunk.js.map